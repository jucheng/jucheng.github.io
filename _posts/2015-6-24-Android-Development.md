---
layout: post
title: "简易的图片浏览器的开发(初版）"
date: 2015-6-24
categories: Android
tags: [Android]
---
一个简易的图片浏览器开发中遇到的问题以及总结

<!-- more -->

这个简易的图片浏览器只是简单的用到了几个Button和ImageView,但是就是重点是在这个代码的书写过程中你犯了很多的低级的错误，甚至是书写的错误，所以，希望能通过这次，以后在代码的书写规范方面有所改良。



#### 1、Override函数的快捷键


eclipse哪个快捷键可以直接呼出要重写的方法?


alert+shift+s -> 选择Override/Implement Methods... -> 选择你需要重写的方法



#### 2、在头文件中导入相关的Java包的快捷键


Control+shift+O(字母）来添加相关的需要的包；


我们在写程序的过程中一般都会出现一些比较比较低端的错误，比如头文件中没有引入相关的Java包。比如下边的一个程序中的错误，就是由于没有导入相关的包而造成的错误：


A.一开始在没导入包的时候，我们可以看到相关的一些错误

![](http://img-storage.qiniudn.com/15-6-29/7037896.jpg)


B.导入包之后，系统自动添加以下包：

![](http://img-storage.qiniudn.com/15-6-29/87940740.jpg)

C.导入包之后，上述的错误就会消失了的：

![](http://img-storage.qiniudn.com/15-6-29/56480369.jpg)

#### 3.有时候，你由于一些大小写的问题也会导致一个简单问题被复杂化了的：
![](http://img-storage.qiniudn.com/15-6-29/31369990.jpg)
![](http://img-storage.qiniudn.com/15-6-29/91177517.jpg)

就像上述的那个onclickListener本来应该前边的那个o字母应该是大写来的，但是，你却写成了小写，结果也就出错了。

#### 4、程序中出现“minus cannot be resolved”的错误，
   minus是你程序里边定义的一个降低图片透明度的Button的id来的，然而这个错误是出现在你在之前定义的时候就已经写错了这个单词，你把它写成了"munis",结果接下来的程序虽然都拼写对了，但是由于你上边都已经定义错了，所以，在下边的所有相关的这个单词全部都会出现错误。
![](http://img-storage.qiniudn.com/15-6-29/15902976.jpg)

错误就出现在这里————————这里定义的时候就已经错了的

![](http://img-storage.qiniudn.com/15-6-29/83752679.jpg)



#### 5.java中出现"duplicate local variable"的错误
*这是因为定义了两个同名变量*

##            《接下来的是这个APP里边的一些重难点》

#### 1.这里讲的用到的一个xml的属性方法：
   android:scaleType就是设置所显示的图片如何进行缩放或者移动以适应ImageView的大小，就像以下这里一样：


![](http://img-storage.qiniudn.com/15-6-29/26697264.jpg)

   这个就表明ImageView在显示图片的时候会进行保持纵横比比的缩放，将缩放后的图片放在该ImageView的中央。

#### 2.进行图片之间的循环，因为在程序的前边，我们已经定义了一个访问图片的数组，所以，在这里我们只要进行这个数组中的图片的循环播放即可。以下的这句代码的功能就是进行图片的循环。


![](http://img-storage.qiniudn.com/15-6-29/18199706.jpg)


   setImageResource的参数是resId,必须是drawable目录下的资源.其实这里你也可以注意一下，你就在以后的想开发相关的图片浏览的时候，这个也是要用到的。

#### 3.其中setAlpha被打了横线！这是什么原因？
打横线的解释:


过时的方法，本来应该废弃，但是为了兼容以前的版本，或者照顾到一些老的用户，还是保留了下来。仍可以使用。

![](http://img-storage.qiniudn.com/15-6-29/86024753.jpg)


而且在这里这个函数的意思指的是改变图片的透明度。

#### 4.这个程序的主要的部分是位图的截取部分，就是当你点击ImageView1的图片的时候，ImageView2就会显示相应的部分位图，这个时候就要用到Bitmap类，这个类的是代表位图的类，调用它的createBitmap（）静态方法即可截取位图的指定部分，该方法返回截取区域的新位图。

![](http://img-storage.qiniudn.com/15-6-29/86431951.jpg)

以上的这段代码的意思就是 ：image2从image1中截取120*120大小后显示，截取起始坐标为（x,y）
（到了这里你就可以理解为什么要减去120）

### 这个截取位图是从玩家的触摸点开始截取位图的，所以我们现在看一下这里的一些流程->
1.就是获取ImageView1图片显示框中的位图：
![](http://img-storage.qiniudn.com/15-6-29/81710144.jpg)

2.设置Bitmap图片与实际大小与第一个ImageView的缩放比例
![](http://img-storage.qiniudn.com/15-6-29/37929818.jpg)


3.获取需要显示的图片的开始起点

![](http://img-storage.qiniudn.com/15-6-29/15064619.jpg)


4.显示图片的指定区域，也就是实现简单的图片剪切的功能
![](http://img-storage.qiniudn.com/15-6-29/86715992.jpg)


##《图片开发浏览器的总结》
   这个图片浏览器的最重要的只是部分是要你判断你在图片上的触摸点，然后根据这个触摸点进行截取多大的图片，然后显示在下一个Imageview，这个就是关键，所以在这里就用到你不熟悉的Bitmap类的函数，所以，不管你弄了什么功能，你只要能从里边学到新的知识点，然后总结起来，下次一看就能看明白那就好了。