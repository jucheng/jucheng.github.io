---
layout: post
title: "浅析JavaScript中==和==="
date: 2017-5-11
categories: 前端
tags: [前端开发，JavaScript]
---

浅析JavaScript中==和===

![](http://oq2sjn05e.bkt.clouddn.com/2017-5-11-FEW-the%20differen%20between%20two%20and%20three%20equals%20sign.jpeg)

<!-- more -->


### 一、前言

"==="叫做严格运算符，"=="叫做相等运算符。

首先，== equality 等同，=== identity 恒等。

**==， 两边值类型不同的时候，要先进行类型转换，再比较。**

**===，不做类型转换，类型不同的一定不等。**

我们在绝大多数场合应该使用 === ，只有检测 null/undefined 的时候可以使用 x == null ，因为通常我们不区分 null 和 undefined 。

== 的比较看似会比较方便，比如 1 == '1' ，但是会埋下隐患，比如可能对类型做出错误的假设。

例子：

if (x == 10) x += 5

如果传入的x是字符串'10'，x的结果会变成'105'。

在后续运算中字符串'105'又可能被转型，从而引入隐蔽的错误。（以上言论转自知乎贺师俊）

### 二、==与===的区别

#### A、===的判断说明

**===：只有在两个操作数的数据类型和值都相等的情况下才为true**

1、如果类型不同，就[不相等]

2、如果两个都是数值，并且是同一个值，那么[相等]；(！例外)的是，如果其中至少一个是NaN，那么[不相等]。（判断一个值是否是NaN，只能用 isNaN()来判断）

3、如果两个都是字符串，每个位置的字符都一样，那么[相等]；否则[不相等]。

4、如果两个值都是true，或者都是false，那么[相等]。

5、如果两个值都引用同一个对象或函数，那么[相等]；否则[不相等]。

6、如果两个值都是null，或者都是undefined，那么[相等]。

#### Ｂ、＝＝的判断说明

**==：用于比较两个操作数是否相等，这两个操作数的数据类型不一定要相等，只要进行数据类型转换后相等即为true**

1、如果两个值类型相同，进行 === 比较。

2、如果两个值类型不同，他们可能相等。根据下面规则进行类型转换再比较：

a、如果一个是null、一个是undefined，那么[相等]。

b、如果一个是字符串，一个是数值，把字符串转换成数值再进行比较。

c、如果任一值是 true，把它转换成 1 再比较；如果任一值是 false，把它转换成 0 再比较。

d、如果一个是对象，另一个是数值或字符串，把对象转换成基础类型的值再比较。对象转换成基础类型，利用它的toString或者valueOf方法。js核心内置类，会尝试valueOf先于toString；例外的是Date，Date利用的是toString转换。

e、任何其他组合，都[不相等]。